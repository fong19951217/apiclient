<!DOCTYPE html>
<html lang="en" ng-app="myApp">
<head>
<title>Interactive API Client</title>
<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
<script src="controller.js"></script>
</head>
<body ng-controller="controller_1">
    Write your update data here.</br></br>
    <textarea id="update" rows="10" cols="50"></textarea></br></br>
    <button onclick="edit()">Update</button>
<script>
    function edit() {
    var url_string = window.location.href;
    var urll = new URL(url_string);
    var theid = urll.searchParams.get("id");
    var themessage = $('#update').val();
    $u = 'https://restfulapi-fong19951217.c9users.io/pictureinfo?id='+theid+'&v=p&value='+themessage;
    $.ajax({
        url: $u,
        type:"POST",
        success: function(response) {
            console.log("Updated Success!");
        },
        error: function(xhr) {
        }
    });
    document.location.href = "fav.html";
    }
</script>
</body>
</html>